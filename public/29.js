(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{140:function(a,t,o){"use strict";o.r(t);var e=o(3),r=o.n(e),d=o(6),s=o.n(d),i=(o(16),o(108)),l=o(12).format,n={type:"bar",data:{labels:[],datasets:[{label:"",data:[],type:"line",fill:!1,pointRadius:1,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 0.6)"},{label:"",data:[],type:"line",fill:!1,pointRadius:1,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 0.6)"},{label:"",data:[],type:"line",fill:!1,pointRadius:1,backgroundColor:"rgba(255, 159, 64, 0.2)",borderColor:"rgba(255, 159, 64, 0.6)"}]},options:{plugins:{datalabels:{display:!1}},scales:{yAxes:[{position:"right",ticks:{beginAtZero:!0}}],xAxes:[{ticks:{callback:function(a,t,o){var e=a.split(" ");return e[0]+e[1]},maxRotation:90,minRotation:90},display:!0,scaleLabel:{display:!0,labelString:"Tanggal"}}]},maintainAspectRatio:!1,responsive:!0,tooltips:{mode:"index",intersect:!1,backgroundColor:"rgba(255,255,255,1)",titleFontColor:"#000",bodyFontColor:"#000",borderColor:"#222",borderWidth:1},hover:{mode:"index",intersect:!1},legend:{position:"bottom",usePointStyle:!0}}},u={components:{Loading:r.a},props:["kejadian","lokasi"],data:function(){return{isLoading:!1,chartCumulative:null,positiveBgColor:"rgba(246, 71, 71, 1)",positiveBorderColor:"rgba(246, 71, 71, 0.8)",recoveredBgColor:"rgba(42, 187, 155, 1)",recoveredBorderColor:"rgba(42, 187, 155, 0.8)",deceasedBgColor:"rgba(245, 171, 53, 1)",deceasedBorderColor:"rgba(245, 171, 53, 0.8)",odpBgColor:"rgba(103, 65, 114, 1)",odpBorderColor:"rgba(103, 65, 114, 0.8)",finishedOdpBgColor:"rgba(36, 37, 42, 1)",finishedOdpBorderColor:"rgba(36, 37, 42, 0.8)",activeOdpBgColor:"rgba(65, 131, 215, 1)",activeOdpBorderColor:"rgba(65, 131, 215, 0.8)",pdpBgColor:"rgba(247, 202, 24, 1)",pdpBorderColor:"rgba(247, 202, 24, 0.8)",finishedPdpBgColor:"rgba(242, 217, 132, 1)",finishedPdpBorderColor:"rgba(242, 217, 132, 0.8)",activePdpBgColor:"rgba(211, 84, 0, 1)",activePdpBorderColor:"rgba(211, 84, 0, 0.8)"}},methods:{createCumulativeChart:function(a,t){var o=document.getElementById(a);null!=this.chartCumulative&&this.chartCumulative.destroy(),this.chartCumulative=new s.a(o,{type:t.type,data:t.data,options:t.options})},loadData:function(){var a=this;this.isLoading=!0;var t=null;t="Sulawesi Tengah"==this.$props.lokasi?"statistik":"Indonesia"==this.$props.lokasi?"nasional":"statistik/"+this.$props.lokasi,axios.get("/corona/api/"+t).then((function(t){for(var o=t.data.data,e=[],r=[],d=[],s=[],u=[],p=[],c=[],g=[],b=[],C=[],h=[],f=[],v=[],k=[],m=0;m<o.length;m++){var B=o[m].tanggal.split("/"),P=null;if(B.length>=3){var y=B[2].split(" ");y=y[0];var D=B[1];P=B[0]+"-"+D+"-"+y}else P=o[m].tanggal;P=l(Date.parse(P),"dd MMM yyyy",{locale:i.a});e.push(P),r.push(o[m].kasus_baru.positif),d.push(o[m].kumulatif.positif),g.push(o[m].kumulatif.positif-(o[m].kumulatif.meninggal+o[m].kumulatif.sembuh)),s.push(o[m].kasus_baru.sembuh),u.push(o[m].kumulatif.sembuh),p.push(o[m].kasus_baru.meninggal),c.push(o[m].kumulatif.meninggal),"Indonesia"!=a.$props.lokasi&&(b.push(o[m].aktif.ODP),C.push(o[m].kumulatif.selesai_ODP),h.push(o[m].kumulatif.ODP),f.push(o[m].aktif.PDP),v.push(o[m].kumulatif.selesai_PDP),k.push(o[m].kumulatif.PDP))}switch(n.data.datasets.length>3&&n.data.datasets.pop(),a.$props.kejadian){case"Positif":n.data.datasets[1].backgroundColor=a.deceasedBgColor,n.data.datasets[1].borderColor=a.deceasedBorderColor,n.data.datasets[1].label="Positif - Meninggal",n.data.datasets[1].data=c,n.data.datasets[2].backgroundColor=a.recoveredBgColor,n.data.datasets[2].borderColor=a.recoveredBorderColor,n.data.datasets[2].label="Positif - Sembuh",n.data.datasets[2].data=u;var O={label:"Positif - Dirawat",data:g,type:"line",fill:!1,pointRadius:1,backgroundColor:a.activeOdpBgColor,borderColor:a.activeOdpBorderColor};n.data.datasets.push(O),n.data.datasets[0].backgroundColor=a.positiveBgColor,n.data.datasets[0].borderColor=a.positiveBorderColor,n.data.datasets[0].label="Positif - Total",n.data.datasets[0].data=d;break;case"PDP":n.data.datasets[1].backgroundColor=a.finishedPdpBgColor,n.data.datasets[1].borderColor=a.finishedPdpBorderColor,n.data.datasets[1].label="Selesai",n.data.datasets[1].data=v,n.data.datasets[2].backgroundColor=a.activePdpBgColor,n.data.datasets[2].borderColor=a.activePdpBorderColor,n.data.datasets[2].label="Aktif",n.data.datasets[2].data=f,n.data.datasets[0].backgroundColor=a.pdpBgColor,n.data.datasets[0].borderColor=a.pdpBorderColor,n.data.datasets[0].label="Total PDP",n.data.datasets[0].data=k;break;case"ODP":n.data.datasets[1].backgroundColor=a.finishedOdpBgColor,n.data.datasets[1].borderColor=a.finishedOdpBorderColor,n.data.datasets[1].label="Selesai",n.data.datasets[1].data=C,n.data.datasets[2].backgroundColor=a.activeOdpBgColor,n.data.datasets[2].borderColor=a.activeOdpBorderColor,n.data.datasets[2].label="Aktif",n.data.datasets[2].data=b,n.data.datasets[0].backgroundColor=a.odpBgColor,n.data.datasets[0].borderColor=a.odpBorderColor,n.data.datasets[0].label="Total ODP",n.data.datasets[0].data=h}n.data.labels=e,a.chartCumulative.update(),a.isLoading=!1}))},updater:function(){var a=this;setInterval((function(){a.loadData(),a.chartCumulative()}),3e5)}},watch:{lokasi:function(){this.createCumulativeChart("chart-cumulative",n),this.loadData()},kejadian:function(){this.createCumulativeChart("chart-cumulative",n),this.loadData()}},mounted:function(){this.createCumulativeChart("chart-cumulative",n),this.loadData(),this.updater()}},p=o(0),c=Object(p.a)(u,(function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("div",{staticStyle:{height:"400px"}},[o("div",{staticClass:"absolute flex justify-center w-full"},[o("loading",{attrs:{active:a.isLoading,opacity:.8,height:300,width:128,loader:"spinner",color:"#59F"},on:{"update:active":function(t){a.isLoading=t}}})],1),a._v(" "),o("keep-alive",[o("canvas",{attrs:{id:"chart-cumulative","aria-label":"Chart Kumulatif COVID-19",role:"img"}})])],1)}),[],!1,null,null,null);t.default=c.exports}}]);