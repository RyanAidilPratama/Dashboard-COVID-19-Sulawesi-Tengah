(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{104:function(t,a,i){"use strict";i.r(a);var e=i(3),n=i.n(e),s=i(7),o=i.n(s),r=(i(61),i(15),i(11).format,{type:"pie",data:{labels:["Sedang Dirawat","Meninggal","Sembuh"],datasets:[{data:[],backgroundColor:["rgb(54, 162, 235)","rgb(255, 159, 64)","rgb(75, 192, 192)"]}]},options:{tooltips:{enabled:!0},plugins:{datalabels:{formatter:function(t,a){var i=0;return a.chart.data.datasets[0].data.map((function(t){i+=t})),(100*t/i).toFixed(2)+"%"},color:"#fff"}},maintainAspectRatio:!1,responsive:!0,legend:{position:"bottom",usePointStyle:!1,display:!0}}}),l={components:{Loading:n.a},props:["kasus","wilayah"],data:function(){return{isLoading:!1,chart:null}},methods:{createChart:function(t,a){var i=document.getElementById(t);null!=this.chart&&this.chart.destroy(),this.chart=new o.a(i,{type:a.type,data:a.data,options:a.options})},getStatistic:function(){var t=this;this.isLoading=!0,axios.get("/corona/api/statistik/terkini").then((function(a){var i=a.data.data,e=i.kumulatif.positif,n=i.kumulatif.sembuh,s=i.kumulatif.meninggal,o=e-(n+s);r.data.datasets[0].data=[o,s,n],t.chart.update(),t.isLoading=!1}))},updater:function(){var t=this;setInterval((function(){t.createChart("pie-chart",r),t.getStatistic()}),3e5)}},mounted:function(){this.createChart("pie-chart",r),this.getStatistic(),this.updater()}},d=i(0),c=Object(d.a)(l,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"w-full p-3"},[i("div",{staticClass:"bg-white rounded-lg shadow-lg"},[t._m(0),t._v(" "),i("div",{staticClass:"flex justify-center w-full"},[i("loading",{attrs:{active:t.isLoading,opacity:.8,width:128,loader:"spinner",color:"#59F"},on:{"update:active":function(a){t.isLoading=a}}})],1),t._v(" "),i("div",{staticClass:"p-5",staticStyle:{height:"400px"}},[i("keep-alive",[i("canvas",{attrs:{id:"pie-chart","aria-label":"Pie Chart Konfirmasi COVID-19",role:"img"}})])],1)])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"p-2 text-gray-800 border-b-2 rounded-tl-lg rounded-tr-lg"},[a("h5",{staticClass:"text-sm font-bold md:text-xl"},[this._v("Perbandingan")])])}],!1,null,null,null);a.default=c.exports}}]);