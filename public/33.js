(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{171:function(a,r,s){"use strict";s.r(r);var t=s(5),i=s.n(t),n=s(8),u=s.n(n),e=(s(17),s(138));function o(a,r){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),s.push.apply(s,t)}return s}function d(a){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?o(Object(s),!0).forEach((function(r){b(a,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))}))}return a}function b(a,r,s){return r in a?Object.defineProperty(a,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[r]=s,a}var l=s(13).format,p={components:{Loading:i.a},props:{kasus:{type:String,default:function(){return"Positif"}},wilayah:{type:Object,default:function(){return"Sulawesi Tengah"}},propsDataRekapitulasiProv:{type:Array,default:function(){return[]}},propsDataRekapitulasiNasional:{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!1,chart:null,positiveBgColor:"rgba(246, 71, 71, 1)",positiveBorderColor:"rgba(246, 71, 71, 0.8)",recoveredBgColor:"rgba(42, 187, 155, 1)",recoveredBorderColor:"rgba(42, 187, 155, 0.8)",deceasedBgColor:"rgba(245, 171, 53, 1)",deceasedBorderColor:"rgba(245, 171, 53, 0.8)",odpBgColor:"rgba(65, 131, 215, 1)",odpBorderColor:"rgba(65, 131, 215, 0.8)",finishedOdpBgColor:"rgba(58, 83, 155, 1)",finishedOdpBorderColor:"rgba(58, 83, 155, 0.8)",pdpBgColor:"rgba(84, 55, 122, 1)",pdpBorderColor:"rgba(84, 55, 122, 0.8)",finishedPdpBgColor:"rgba(48, 23, 79, 1)",finishedPdpBorderColor:"rgba(48, 23, 79, 0.8)",jsonDataHarianProvinsi:[],jsonDataHarianNasional:[],jsonDataKabupaten:[{no:1,nama:"Banggai",dataHarian:[]},{no:2,nama:"Banggai Kepulauan",dataHarian:[]},{no:3,nama:"Banggai Laut",dataHarian:[]},{no:4,nama:"Buol",dataHarian:[]},{no:5,nama:"Donggala",dataHarian:[]},{no:6,nama:"Morowali",dataHarian:[]},{no:7,nama:"Morowali Utara",dataHarian:[]},{no:8,nama:"Parigi Moutong",dataHarian:[]},{no:9,nama:"Poso",dataHarian:[]},{no:10,nama:"Sigi",dataHarian:[]},{no:11,nama:"Tojo Una-Una",dataHarian:[]},{no:12,nama:"Toli-Toli",dataHarian:[]},{no:13,nama:"Kota Palu",dataHarian:[]}],chartHarianOption:{type:"bar",data:{labels:[],datasets:[{label:"Rata-Rata Mingguan",type:"line",data:[],fill:!1,pointRadius:1,pointBackgroundColor:"rgba(106, 113, 118, 1)",borderColor:"rgba(106, 113, 118, 1)"},{label:"Kasus Baru",data:[],yAxisID:"kasus-baru",backgroundColor:"",borderColor:""}]},options:{plugins:{datalabels:{display:!1}},scales:{yAxes:[{type:"linear",id:"kasus-baru",position:"right",display:!0,scaleLabel:{display:!0,labelString:"Kasus Baru"}}],xAxes:[{ticks:{callback:function(a,r,s){var t=a.split(" ");return t[0]+t[1]},maxRotation:90,minRotation:90},display:!0,stacked:!0,scaleLabel:{display:!0,labelString:"Tanggal"}}]},maintainAspectRatio:!1,responsive:!0,tooltips:{mode:"index",intersect:!1,backgroundColor:"rgba(255,255,255,1)",titleFontColor:"#000",bodyFontColor:"#000",borderColor:"#222",borderWidth:1},hover:{mode:"index",intersect:!1},legend:{position:"bottom",usePointStyle:!0,display:!0}}},chartOdpOption:{type:"bar",data:{labels:[],datasets:[{label:"Rata-Rata Mingguan",type:"line",data:[],fill:!1,pointRadius:1,pointBackgroundColor:"rgba(106, 113, 118, 1)",borderColor:"rgba(106, 113, 118, 1)"},{label:"Kasus Baru",data:[],yAxisID:"kasus-baru",backgroundColor:"",borderColor:""},{label:"Selesai",data:[],backgroundColor:"",borderColor:""}]},options:{plugins:{datalabels:{display:!1}},scales:{yAxes:[{type:"linear",id:"kasus-baru",position:"right",display:!0,scaleLabel:{display:!0,labelString:"Kasus Baru/Selesai"}}],xAxes:[{ticks:{callback:function(a,r,s){var t=a.split(" ");return t[0]+t[1]},maxRotation:90,minRotation:90},display:!0,stacked:!0,scaleLabel:{display:!0,labelString:"Tanggal"}}]},maintainAspectRatio:!1,responsive:!0,tooltips:{mode:"index",intersect:!1,backgroundColor:"rgba(255,255,255,1)",titleFontColor:"#000",bodyFontColor:"#000",borderColor:"#222",borderWidth:1},hover:{mode:"index",intersect:!1},legend:{position:"bottom",usePointStyle:!0,display:!0}}}}},methods:{movingAvg:function(a,r,s){for(var t,i=function(a,r){var s,t=0,i=0;for(var n in a)s=a[n],r&&!r(s)||(t+=s,i++);return t/i},n=[],u=0;u<r-1;u++)0===u?n.push(a[u]):n.push(i(a.slice(0,u)));u=0;for(var e=a.length-r;u<=e;u++)t=i(a.slice(u,u+r),s),isNaN(t)?n.push(0):n.push(t.toFixed(2));return n},createChart:function(a,r){var s=document.getElementById(a);null!=this.chart&&this.chart.destroy(),this.chart=new u.a(s,{type:r.type,data:r.data,options:r.options})},dateFormat:function(a){return l(Date.parse(a),"dd MMM yyyy",{locale:e.a})},fetchDataProvinsi:function(){var a=this,r=this,s=[],t=[],i=[],n=[],u="",e="",o="",d="";this.jsonDataHarianProvinsi.forEach((function(b){n.push(r.dateFormat(b.tanggal)),"Positif"===a.kasus?(s.push(b.rekap.rata_rata.positif_weekly),t.push(b.kasus_baru.positif),u=a.positiveBgColor,e=a.positiveBorderColor):"Sembuh"===a.kasus?(s.push(b.rekap.rata_rata.sembuh_weekly),t.push(b.kasus_baru.sembuh),u=a.recoveredBgColor,e=a.recoveredBorderColor):"Meninggal"===a.kasus?(s.push(b.rekap.rata_rata.meninggal_weekly),t.push(b.kasus_baru.meninggal),u=a.deceasedBgColor,e=a.deceasedBorderColor):"ODP"===a.kasus?(s.push(b.rekap.rata_rata.ODP_weekly),t.push(b.kasus_baru.ODP),i.push(b.selesai.ODP),u=a.odpBgColor,e=a.odpBorderColor,o=a.finishedOdpBgColor,d=a.finishedOdpBorderColor):"PDP"===a.kasus&&(s.push(b.rekap.rata_rata.PDP_weekly),t.push(b.kasus_baru.PDP),i.push(b.selesai.PDP),u=a.pdpBgColor,e=a.pdpBorderColor,o=a.finishedPdpBgColor,d=a.finishedPdpBorderColor)})),"PDP"===r.kasus||"ODP"===r.kasus?r.drawChartOdp(n,s,t,i,u,e,o,d):r.drawChartHarian(n,s,t,u,e)},fetchDataKab:function(a){var r,s=this,t=[],i=[],n=[],u="",e="",o="",d="";this.jsonDataKabupaten.forEach((function(r){r.no===a&&r.dataHarian.forEach((function(a){switch(n.push(s.dateFormat(a.tanggal)),s.kasus){case"Positif":t.push(a.kasus_baru.positif),u=s.positiveBgColor,e=s.positiveBorderColor;break;case"Sembuh":t.push(a.kasus_baru.sembuh),u=s.recoveredBgColor,e=s.recoveredBorderColor;break;case"Meninggal":t.push(a.kasus_baru.meninggal),u=s.deceasedBgColor,e=s.deceasedBorderColor;break;case"ODP":t.push(a.kasus_baru.ODP),i.push(a.selesai.ODP),u=s.odpBgColor,e=s.odpBorderColor,o=s.finishedOdpBgColor,d=s.finishedOdpBorderColor;break;case"PDP":t.push(a.kasus_baru.PDP),i.push(a.selesai.PDP),u=s.pdpBgColor,e=s.pdpBorderColor,o=s.finishedPdpBgColor,d=s.finishedPdpBorderColor;break;default:t.push(a.kasus_baru.positif),u=s.positiveBgColor,e=s.positiveBorderColor}}))})),r=this.movingAvg(t,7),"PDP"===s.kasus||"ODP"===s.kasus?s.drawChartOdp(n,r,t,i,u,e,o,d):s.drawChartHarian(n,r,t,u,e)},fetchDataNasional:function(){var a=this,r=[],s=[],t=[],i="",n="";this.jsonDataHarianNasional.forEach((function(u){switch(t.push(a.dateFormat(u.tanggal)),a.kasus){case"Positif":r.push(u.rekap.rata_rata.positif_weekly),s.push(u.kasus_baru.positif),i=a.positiveBgColor,n=a.positiveBorderColor;break;case"Sembuh":r.push(u.rekap.rata_rata.sembuh_weekly),s.push(u.kasus_baru.sembuh),i=a.recoveredBgColor,n=a.recoveredBorderColor;break;case"Meninggal":r.push(u.rekap.rata_rata.meninggal_weekly),s.push(u.kasus_baru.meninggal),i=a.deceasedBgColor,n=a.deceasedBorderColor;break;default:r.push(u.rekap.rata_rata.positif_weekly),s.push(u.kasus_baru.positif),i=a.positiveBgColor,n=a.positiveBorderColor}})),a.drawChartHarian(t,r,s,i,n)},fetchData:function(){this.isLoading=!0,"Sulawesi Tengah"===this.wilayah?this.fetchDataProvinsi():"Indonesia"===this.wilayah?this.fetchDataNasional():this.fetchDataKab(this.wilayah),this.isLoading=!1},drawChartHarian:function(a,r,s,t,i){this.chartHarianOption.data.labels=a,this.chartHarianOption.data.datasets[0].data=r,this.chartHarianOption.data.datasets[1].data=s,this.chartHarianOption.data.datasets[1].backgroundColor=t,this.chartHarianOption.data.datasets[1].borderColor=i,this.createChart("chart-container",this.chartHarianOption),this.chart.update()},countAverageKab:function(){this.jsonDataKabupaten.forEach((function(a){for(var r=0,s=0,t=0,i=0,n=0,u=0;u<a.dataHarian.length;u++){0===u?(r=a.dataHarian[u].kasus_baru.positif/1,s=a.dataHarian[u].kasus_baru.sembuh/1,t=a.dataHarian[u].kasus_baru.meninggal/1,i=a.dataHarian[u].kasus_baru.ODP/1,n=a.dataHarian[u].kasus_baru.PDP/1):1===u?(r=a.dataHarian[u].kasus_baru.positif+a.dataHarian[u-1].kasus_baru.positif/2,s=a.dataHarian[u].kasus_baru.sembuh+a.dataHarian[u-1].kasus_baru.sembuh/2,t=a.dataHarian[u].kasus_baru.meninggal+a.dataHarian[u-1].kasus_baru.meninggal/2,i=a.dataHarian[u].kasus_baru.ODP+a.dataHarian[u-1].kasus_baru.ODP/2,n=a.dataHarian[u].kasus_baru.PDP+a.dataHarian[u-1].kasus_baru.PDP/2):2===u?(r=a.dataHarian[u].kasus_baru.positif+a.dataHarian[u-2].kasus_baru.positif+a.dataHarian[u-1].kasus_baru.positif/3,s=a.dataHarian[u].kasus_baru.sembuh+a.dataHarian[u-2].kasus_baru.sembuh+a.dataHarian[u-1].kasus_baru.sembuh/3,t=a.dataHarian[u].kasus_baru.meninggal+a.dataHarian[u-2].kasus_baru.meninggal+a.dataHarian[u-1].kasus_baru.meninggal/3,i=a.dataHarian[u].kasus_baru.ODP+a.dataHarian[u-1].kasus_baru.ODP+a.dataHarian[u-2].kasus_baru.ODP/3,n=a.dataHarian[u].kasus_baru.PDP+a.dataHarian[u-1].kasus_baru.PDP+a.dataHarian[u-2].kasus_baru.PDP/3):3===u?(r=a.dataHarian[u].kasus_baru.positif+a.dataHarian[u-2].kasus_baru.positif+a.dataHarian[u-3].kasus_baru.positif+a.dataHarian[u-1].kasus_baru.positif/4,s=a.dataHarian[u].kasus_baru.sembuh+a.dataHarian[u-2].kasus_baru.sembuh+a.dataHarian[u-3].kasus_baru.sembuh+a.dataHarian[u-1].kasus_baru.sembuh/4,t=a.dataHarian[u].kasus_baru.meninggal+a.dataHarian[u-2].kasus_baru.meninggal+a.dataHarian[u-3].kasus_baru.meninggal+a.dataHarian[u-1].kasus_baru.meninggal/4,i=a.dataHarian[u].kasus_baru.ODP+a.dataHarian[u-1].kasus_baru.ODP+a.dataHarian[u-3].kasus_baru.ODP+a.dataHarian[u-2].kasus_baru.ODP/4,n=a.dataHarian[u].kasus_baru.PDP+a.dataHarian[u-1].kasus_baru.PDP+a.dataHarian[u-3].kasus_baru.PDP+a.dataHarian[u-2].kasus_baru.PDP/4):4===u?(r=a.dataHarian[u].kasus_baru.positif+a.dataHarian[u-2].kasus_baru.positif+a.dataHarian[u-3].kasus_baru.positif+a.dataHarian[u-4].kasus_baru.positif+a.dataHarian[u-1].kasus_baru.positif/5,s=a.dataHarian[u].kasus_baru.sembuh+a.dataHarian[u-2].kasus_baru.sembuh+a.dataHarian[u-3].kasus_baru.sembuh+a.dataHarian[u-4].kasus_baru.sembuh+a.dataHarian[u-1].kasus_baru.sembuh/5,t=a.dataHarian[u].kasus_baru.meninggal+a.dataHarian[u-2].kasus_baru.meninggal+a.dataHarian[u-3].kasus_baru.meninggal+a.dataHarian[u-4].kasus_baru.meninggal+a.dataHarian[u-1].kasus_baru.meninggal/5,i=a.dataHarian[u].kasus_baru.ODP+a.dataHarian[u-1].kasus_baru.ODP+a.dataHarian[u-3].kasus_baru.ODP+a.dataHarian[u-4].kasus_baru.ODP+a.dataHarian[u-2].kasus_baru.ODP/5,n=a.dataHarian[u].kasus_baru.PDP+a.dataHarian[u-1].kasus_baru.PDP+a.dataHarian[u-3].kasus_baru.PDP+a.dataHarian[u-4].kasus_baru.PDP+a.dataHarian[u-2].kasus_baru.PDP/5):5===u?(r=a.dataHarian[u].kasus_baru.positif+a.dataHarian[u-2].kasus_baru.positif+a.dataHarian[u-3].kasus_baru.positif+a.dataHarian[u-4].kasus_baru.positif+a.dataHarian[u-5].kasus_baru.positif+a.dataHarian[u-1].kasus_baru.positif/6,s=a.dataHarian[u].kasus_baru.sembuh+a.dataHarian[u-2].kasus_baru.sembuh+a.dataHarian[u-3].kasus_baru.sembuh+a.dataHarian[u-4].kasus_baru.sembuh+a.dataHarian[u-5].kasus_baru.sembuh+a.dataHarian[u-1].kasus_baru.sembuh/6,t=a.dataHarian[u].kasus_baru.meninggal+a.dataHarian[u-2].kasus_baru.meninggal+a.dataHarian[u-3].kasus_baru.meninggal+a.dataHarian[u-4].kasus_baru.meninggal+a.dataHarian[u-5].kasus_baru.meninggal+a.dataHarian[u-1].kasus_baru.meninggal/6,i=a.dataHarian[u].kasus_baru.ODP+a.dataHarian[u-1].kasus_baru.ODP+a.dataHarian[u-3].kasus_baru.ODP+a.dataHarian[u-4].kasus_baru.ODP+a.dataHarian[u-5].kasus_baru.ODP+a.dataHarian[u-2].kasus_baru.ODP/6,n=a.dataHarian[u].kasus_baru.PDP+a.dataHarian[u-1].kasus_baru.PDP+a.dataHarian[u-3].kasus_baru.PDP+a.dataHarian[u-4].kasus_baru.PDP+a.dataHarian[u-5].kasus_baru.PDP+a.dataHarian[u-2].kasus_baru.PDP/6):u>6&&(r=a.dataHarian[u].kasus_baru.positif+a.dataHarian[u-2].kasus_baru.positif+a.dataHarian[u-3].kasus_baru.positif+a.dataHarian[u-4].kasus_baru.positif+a.dataHarian[u-5].kasus_baru.positif+a.dataHarian[u-6].kasus_baru.positif+a.dataHarian[u-1].kasus_baru.positif/7,s=a.dataHarian[u].kasus_baru.sembuh+a.dataHarian[u-2].kasus_baru.sembuh+a.dataHarian[u-3].kasus_baru.sembuh+a.dataHarian[u-4].kasus_baru.sembuh+a.dataHarian[u-5].kasus_baru.sembuh+a.dataHarian[u-6].kasus_baru.sembuh+a.dataHarian[u-1].kasus_baru.sembuh/7,t=a.dataHarian[u].kasus_baru.meninggal+a.dataHarian[u-2].kasus_baru.meninggal+a.dataHarian[u-3].kasus_baru.meninggal+a.dataHarian[u-4].kasus_baru.meninggal+a.dataHarian[u-6].kasus_baru.meninggal+a.dataHarian[u-5].kasus_baru.meninggal+a.dataHarian[u-1].kasus_baru.meninggal/7,i=a.dataHarian[u].kasus_baru.ODP+a.dataHarian[u-1].kasus_baru.ODP+a.dataHarian[u-3].kasus_baru.ODP+a.dataHarian[u-4].kasus_baru.ODP+a.dataHarian[u-5].kasus_baru.ODP+a.dataHarian[u-6].kasus_baru.ODP+a.dataHarian[u-2].kasus_baru.ODP/7,n=a.dataHarian[u].kasus_baru.PDP+a.dataHarian[u-1].kasus_baru.PDP+a.dataHarian[u-3].kasus_baru.PDP+a.dataHarian[u-4].kasus_baru.PDP+a.dataHarian[u-5].kasus_baru.PDP+a.dataHarian[u-6].kasus_baru.PDP+a.dataHarian[u-2].kasus_baru.PDP/7);var e={rata_rata:d({},{positif_weekly:parseInt(r.toFixed(2)),sembuh_weekly:parseInt(s.toFixed(2)),meninggal_weekly:parseInt(t.toFixed(2)),ODP_weekly:parseInt(i.toFixed(2)),PDP_weekly:parseInt(n.toFixed(2))})};a.dataHarian[u].rekap=d({},e)}}))},groupDataKab:function(){var a=this;this.jsonDataHarianProvinsi.forEach((function(r){var s={hari_ke:r.hari_ke,tanggal:r.tanggal},t={kasus_baru:{positif:0,sembuh:0,meninggal:0,ODP:0,PDP:0},selesai:{ODP:0,PDP:0},kumulatif:{positif:0,sembuh:0,meninggal:0,ODP:0,PDP:0,selesai_PDP:0,selesai_ODP:0}};a.jsonDataKabupaten.forEach((function(a){var i=d(d({},s),t);r.daftar_kabupaten.forEach((function(r){if(a.no===r.no){var t={kasus_baru:d({},r.kasus_baru),selesai:d({},r.selesai),kumulatif:d({},r.kumulatif)};i=d(d({},s),t)}})),a.dataHarian.push(i)}))}))},checkIfDataLoaded:function(){"Provinsi"===this.wilayah?this.jsonDataHarianProvinsi.length>0?this.isLoading=!1:this.isLoading=!0:this.wilayah},drawChartOdp:function(a,r,s,t,i,n,u,e){this.chartOdpOption.data.labels=a,this.chartOdpOption.data.datasets[0].data=r,this.chartOdpOption.data.datasets[1].data=s,this.chartOdpOption.data.datasets[1].backgroundColor=i,this.chartOdpOption.data.datasets[1].borderColor=n,this.chartOdpOption.data.datasets[2].data=t,this.chartOdpOption.data.datasets[2].backgroundColor=u,this.chartOdpOption.data.datasets[2].borderColor=e,this.createChart("chart-container",this.chartOdpOption),this.chart.update()}},watch:{propsDataRekapitulasiProv:function(){this.jsonDataKabupaten.forEach((function(a){a.dataHarian=[]})),this.jsonDataHarianProvinsi=this.propsDataRekapitulasiProv,this.groupDataKab(),this.fetchData()},propsDataRekapitulasiNasional:function(){this.jsonDataHarianNasional.length>0&&(this.jsonDataHarianNasional=[]),this.jsonDataHarianNasional=this.propsDataRekapitulasiNasional,this.fetchData()},wilayah:function(){this.fetchData()},kasus:function(){this.fetchData()}},mounted:function(){this.fetchData()}},h=s(0),k=Object(h.a)(p,(function(){var a=this.$createElement,r=this._self._c||a;return r("div",{staticClass:"relative",staticStyle:{height:"400px"}},[r("div",{staticClass:"absolute flex justify-center w-full"}),this._v(" "),r("keep-alive",[r("canvas",{attrs:{id:"chart-container","aria-label":"Chart Harian COVID-19",role:"img"}})])],1)}),[],!1,null,null,null);r.default=k.exports}}]);